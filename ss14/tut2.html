<!DOCTYPE html>
<html>
  <head>
    <title>SEP: Tutorium #2</title>
    <meta charset='utf-8'>
    <script src='slides.js'></script>
    <script src="balls2.js"></script>
    <link rel="stylesheet" media="print" href="print.css">
    <!--<link rel="stylesheet" href="styles.css">-->
    </head>


  <body style='display: none' onload="Example2.init();">
    <section class='slides layout-regular template-tugraz'>

<article>
        <h1>
          Tutorium #2
        </h1>
        <p>
          Softwareentwicklung Praktikum<br>
          Gruppe 4 – Michael Schwarz</p>
          <p><small><a href="mailto:prog-tutor-michael@iicm.edu">prog-tutor-michael@iicm.edu</a></small></p>
          <p><small><a href="http://www.student.tugraz.at/michael.schwarz/sep">http://www.student.tugraz.at/michael.schwarz/sep</a></small></p>
      </article>
     <article>
        <h3>Ablauf des Tutoriums</h3>
        <ul class="compact">
         <li>STL - Standard Template Library</li>
         <li>Vektoren</li>
         <li>Strings</li>
         <li>Maps</li>
         <li>Makefiles</li>
         <li>Ass1</li>
        </ul>
     </article>
	 
     <article>
       <h3>STL - Standard Template Library</h3>
        <div class="left">
        <dl class="expl">
          <dt>std::string</dt>
          <dd>Zeichenketten</dd>
          <dt>std::vector</dt>
          <dd>Arrays</dd>
          <dt>std::list</dt>
          <dd>Doppelt-verkettete Liste</dd>
        </dl>
      </div>
        <div class="right">
        <dl class="expl" style="margin-bottom: 0px;">
          <dt>std::set</dt>
          <dd>Menge von eindeutigen Objekten</dd>
          <dt>std::map</dt>
          <dd>Assoziatives Array (Key-Value)</dd>
          <dt>std::array <img src="images/newflag.jpg" style="height: 24px; vertical-align: middle;"/></dt>
          <dd>Array mit zus&auml;tzlichen Funktionen</dd>
        </dl>
        <span>...</span>
      </div>

      <ul style="margin-top: 16px;">
        <li>Generische Datentypen für unterschiedliche
          Einsatzzwecke (z.B. <span class="src" style="font-size: .8em;">std::vector&lt;int&gt;</span> oder <span class="src" style="font-size: .8em;">std::vector&lt;std::string&gt;</span>)
        <li>Automatisches Speichermanagement</li>
        <li>Iteratoren zum Durchlaufen der
        Container, unabhängig von der Datenstruktur</li>
        <li>Vorgefertigte Algorithmen (copy, sort, transform, etc.)</li>
      </ul>     
     </article>
     
     <article>
      <img src="images/container.png" height="105%" />
      <div style="position: absolute; right: 24px; top: 24px; font-size: 0.5em;">http://www.liamdevine.co.uk/code/images/container.png</div>
     </article>

     <article class="smaller">
       <h3>Vector</h3>
	   <ul>
         <li>inkludieren mit</li>
		 <pre class="compact">#include &lt;vector></pre>
         <li>Erstellen eines Vektors
		 <pre class="compact">using std::vector;
...
vector&lt;int> int_vector;</pre> 
		 oder
		 <pre class="compact">std::vector&lt;int> int_vector;</pre><br/></li>
		 
		 
<img src="images/homer2.gif" width="100px" style="float: left; margin-top: 100px;">
        <div style="border: 1px solid #ccc; border-radius: 16px; padding: 8px; float: left; margin-left: 20px; width: 610px; background-color: #fcfcfc;">
        <h3 style="border-bottom: 1px solid gray;">Wichtigste Methoden</h3>
          <div class="left" style="padding-right: 20px;">
		 <dl class="expl">
		   <dt>Anzahl der Element im Vektor</dt><dd><pre class="compact">int len = int_vector.size();</dd>
		   <dt>Wert <em>3</em> an Position <em>0</em> einf&uuml;gen</dt><dd><pre class="compact">int_vector.insert(0, 3);</pre></dd>
		 </dl>
	 </div>
	 <div class="left">
                 <dl class="expl">
                   <dt>Wert <em>3</em> an letzter Stelle einf&uuml;gen</dt><dd><pre class="compact">int_vector.push_back(3);</pre></dd>
                   <dt>Wert an Position <em>0</em></dt><dd><pre class="compact">int element = int_vector[0];</pre></dd>
                 </dl>
	 </div>	 
	 </div>
        </ul>
     </article>
     
     <article>
      <h3>Vector</h3>
<pre class="compact">std::vector&lt;int> int_vector;
int_vector.push_back(42);
int_vector.push_back(13);
int_vector.push_back(37);</pre>
      
      <small>Zugriff auf alle Elemente durch Index...</small>
<pre class="compact" style="font-size: 0.60em;">
int i;
for(i = 0; i &lt; int_vector.size(); i++)
  std::cout &lt;&lt; int_vector[i] &lt;&lt; std::endl;
</pre>
      
      <small>...oder durch Iterator</small>
<pre class="compact" style="font-size: 0.55em;">
for(vector&lt;int>::iterator it = int_vector.begin(); it != int_vector.end(); it++)
  std::cout &lt;&lt; *it &lt;&lt; std::endl;
</pre>
     <small>...oder mit C++2011<img src="images/newflag.jpg" style="vertical-align: bottom;"/></small>
<pre class="compact" style="font-size: 0.60em;">
for(auto it = int_vector.begin(); it != int_vector.end(); it++)
  std::cout &lt;&lt; *it &lt;&lt; std::endl;
</pre>
     </article>
     
     
     <article class="smaller">
       <h3>String: Text</h3>
	   <ul>
	   <li>inkludieren mit</li>
		 <pre class="compact">#include &lt;string></pre>
         <li>Erstellen eines Strings
		 <pre class="compact">using std::string;
...
string hallo_str = "Hallo Welt!";
...
char* char_array = "Hallo Welt!";
string char_str (char_array);</pre> <br />
		 </li>

        <img src="images/homer2.gif" width="100px" style="float: left; margin-top: 110px;">
        <div style="border: 1px solid #ccc; border-radius: 16px; padding: 8px; float: left; margin-left: 20px; width: 610px; background-color: #fcfcfc;">
        <h3 style="border-bottom: 1px solid gray;">Wichtigste Methoden</h3>

        <div class="left" style="padding-right: 20px;">
		 <dl class="expl">
		 <dt>L&auml;nge des Strings</dt><dd><pre class="compact">int len = hallo_str.length();</pre></dd>
		 <dt>Zwei Strings aneinander h&auml;ngen</dt><dd><pre class="compact">hallo_str += char_str; </pre></dd>
		 </dl>
        </div>
        <div class="left">
                <dl class="expl">
                  <dt>liefert 0 wenn gleich</dt><dd><pre class="compact">hallo_str.compare(char_str);</pre></dd>
                  <dt>Buchstabe an Position <em>0</em></dt><dd><pre class="compact">char letter = hallo_str[0];</pre></dd>
                </dl>
        </div>
     </div>
     
     </ul>
	   
     </article>
	 
	 <article>
       <h3>Schreiben auf <span class="src">stdout</span></h3>
	   
<pre class="compact">#include &lt;iostream>
	   
int main()
{
  std::cout &lt;&lt; "Hallo Welt!\n";
  return 0;
}
</pre>
     Verketten von Strings und anderen Datentypen m&ouml;glich
<pre style="font-size: 0.50em;" class="compact">
std::cout &lt;&lt; "The answer to life, the universe and everything is " &lt;&lt; 42 &lt;&lt; std::endl;
</pre>
<pre style="font-size: 0.50em;" class="compact">
std::cout &lt;&lt; "string1 is " &lt;&lt; string1 &lt;&lt; ", it's length is " &lt;&lt; string1.length() &lt;&lt; std::endl;
</pre>
<br />
 <img src="images/homer2.gif" width="100px" style="float: left; margin-top: 24px;">
        <div style="border: 1px solid #ccc; border-radius: 16px; padding: 8px; float: left; margin-left: 20px; width: 610px; background-color: #fcfcfc;">
     <h3 style="border-bottom: 1px solid gray;">Ausgabe von Hexadezimalen Werten</h3>
<pre class="compact">
int value = 32;
std::cout &lt;&lt; value &lt;&lt; " = 0x" &lt;&lt; std::hex 
          &lt;&lt; value &lt;&lt; std::endl; 
</pre>
</div>

     </article>  

      <article class="smaller">
        <h3>Für Fortgeschrittene: Map</h3>
        <ul>
          <li>inkludieren mit</li>
          <pre class="compact">#include &lt;map></pre><br/>
          <li>Eine Liste von Key-Value Paaren von einem beliebigen Datentyp. Erst Key-, dann Value-Datentyp.</li>
          <pre class="compact">std::map&lt;std::string, int> grades_;</pre><br/>
          <li>Direkter Zugriff auf Value über Key. Fügt ein Element ein, falls noch nicht vorhanden.</li>
          <pre class="compact">grades_["SEP"] = 1;</pre></br>
          <li>Beispiel:
          <pre class="compact" style="line-height: 2em;">int groesse = grades_.size();
std::map&lt;std::string,int>::iterator it = grades_.find("SEP");
for(it = grades_.begin(); it != grades_.end(); it++)
  std::cout &lt;&lt; "Key: " &lt;&lt; it->first &lt;&lt; "Value: " &lt;&lt; it->second &lt;&lt; std::endl;</pre>
         </ul>
       </article>       
     
     <article >
       <h3>Pr&auml;dikate testen <img src="images/newflag.jpg" style="vertical-align: middle;" /></h3>
     
     <ul><li>Testet, ob eine Eigenschaft auf ein (<small><span class="src">std::any_of</span></small>), alle (<small><span class="src">std::all_of</span></small>) oder kein (<small><span class="src">std::none_of</span></small>) Element eines Containers zutrifft.</li></ul>
     <ul><li><small>Beispiel: Test, ob eine durch 5 teilbare Zahl in einem Vector vorkommt</small></li></ul>
     <pre class="compact" style="font-size: 0.6em; line-height: 1.25em;">#include &lt;iostream>
#include &lt;vector>
#include &lt;algorithm>

bool is_div5(int x) { return (x % 5 == 0); }

int main() {
  std::vector&lt;int> numbers {1, 3, 5, 7, 9, 11, 13};
  
  if(std::any_of(numbers.begin(), numbers.end(), is_div5)) {
    std::cout &lt;&lt; "Durch 5 teilbare Zahl gefunden" &lt;&lt; std::endl;
  }
}</pre>
     
     </article>
     
     <article>
       <h3>Einfache Klasse II (ball.h)</h3>
<pre style="font-size: .55em; line-height: 1.2em; width: 75%; margin: 1em auto;">
#ifndef BALL_H_INCLUDED
#define BALL_H_INCLUDED

#include &lt;string>

class Ball
{
private:
  float x_, y_, speed_;
  int direction_;
  std::string name_;

public:
  Ball(float x, float y, float speed, int direction,
       std::string name);
  
  void move();
  
  float getSpeed();
  void setSpeed(float speed);
  std::string getName();
  void setDirection(float direction);
  float getDirection();
};

#endif
</pre>
     
     </article>
     
     
     <article>
       <h3>Konstruktor und <code>move</code> (ball.cpp)</h3>
<pre style="font-size: .6em; line-height: 1.2em; width: 75%; margin: 4em auto;">
#include &lt;math.h>
#include "ball.h"

Ball::Ball(float x, float y, float speed, int dir, 
      std::string name) : x_(x), y_(y), speed_(speed)
{
  direction_ = dir * M_PI / 180.0;
  name_ = "Ball '" + name + "'";
}

void Ball::move()
{
  x_ = x_ + cos(direction_) * speed_;
  y_ = y_ + sin(direction_) * speed_;  
  if(x_ &lt; 0 || x_ > 800) 
    direction_ = atan2(sin(direction_), -cos(direction_));
  if(y_ &lt; 0 || y_ > 600)
    direction_ = atan2(-sin(direction_), cos(direction_));
}

</pre>
     
     </article>
     

      
     <article>
       <h3>Getter und Setter</h3>
       <br />
<pre style="font-size: .6em; line-height: 1.2em; width: 40%; float: left; margin-right: 16px;" class="compact">
float Ball::getSpeed()
{
  return speed_;
}

void Ball::setSpeed(float speed)
{
  speed_ = speed;
}

std::string Ball::getName()
{
  return name_;
}
</pre>

<pre style="font-size: .6em; line-height: 1.2em; width: 52%; margin: float: right;" class="compact">
float Ball::getDirection()
{
  return direction_;
}

void Ball::setDirection(float direction)
{
  direction_ = direction;
}
</pre>

<ul style="clear: both; padding-top: 32px;">
 <li>Neuer Getter <span class="src">getName()</span> liefert Namen des Balls zur&uuml;ck</li>
 <li>Neuer Getter <span class="src">getDirection()</span> und Setter <span class="src">setDirection()</span> f&uuml;r die Richtung des Balls</li>
</ul>
     
     </article>
      

     
     <article>
       <h3>Das <code>main</code>-Programm</h3>
<table style="border: 0px; margin: 4px; padding:0px;"><tr style="border: 0px; margin: 0px; padding:0px;"><td style="border: 0px; margin: 0px; padding:0px;">
<pre class="compact" style="font-size: .55em; line-height: 1.2em; width: 95%;">
#include &lt;vector>
#include "ball.h"

int main()
{
  std::vector&lt;Ball> balls;

  Ball b1(200, 225, 5, 10, "#1");
  balls.push_back(b1);<div id="balls"></div>
  while(1)
  {
    int i;
    for(i = 0; i &lt; balls.size(); i++)
    {
      if(balls[i].getName().compare("Ball #2") == 0) 
        balls[i].setDirection(balls[i].getDirection() + 1);
      balls[i].move();
    }

    drawWindow(); // some magic...
  }
}

</pre>
</td><td style="border: 0px;">
  <button onclick="Example2.addRandomBall();" class="big_button"><img src="images/add.png" alt="" /> Ball</button>
  <button onclick="Example2.compile();" class="big_button"><img src="images/run.png" alt="" /> Starten</button>
</td></tr></table>

<div id="popup" style="display: none;">

  <div style="position: absolute; left: 80px; top: 80px;">
    <img src="images/window.png" onclick="Example2.kill();"/>
  </div>
  <div style="position: absolute; left: 85px; top: 110px;">
   <canvas id="game" style="width: 700px; height: 430px;"></canvas>
  </div>

</div>
     </article>

          <article>
      <h3>Gruppenfindung</h3>
      <center>
       <br /><br /><br />
       <img src="images/gruppe.jpg" />
      </center>
     </article>

      <article>
        <h3>Exkurs <code>Makefile</code></h3>
        
        Aufbau:
<p class="pre">
<span class="red">Ziel:</span> <span class="yellow">Abhängigkeit1 (Abhängigkeit2 ...)</span>
&lt;tab>  <span class="blue">(Befehl 1)</span>
&lt;tab>  <span class="blue">(Befehl 2)</span>
        ...
</p>

        Beispiel:
<p class="code">
<span class="red">all:</span> <span class="yellow">ass1</span>

<span class="red">ass1:</span> <span class="yellow">ass1.cpp</span>
        <span class="blue">g++ ass1.cpp -Wall -o ass1</span>
</p>
      </article>     
           
     
      <article>
       <h3>Exkurs <code>Makefile</code> - Ass1</h3>
<p style="font-size: .55em; line-height: 1.2em; width: 60%; float: left; margin: 0px;" class="code compact">EXECUTABLE = ass1
OBJECT_DIR = objects
SOURCES    = $(wildcard *.cpp)
OBJECTS    = $(patsubst %,
                  $(OBJECT_DIR)/%,${SOURCES:.cpp=.o})

all: $(EXECUTABLE) 

$(OBJECT_DIR)/%.o: %.cpp
	$(CC) $(CCFLAGS) $@ $&lt; -MMD -MF ./$@.d

$(EXECUTABLE) : $(OBJECTS)
	$(CC) -o $@ $^ $(LDFLAGS)
	
clean:
        rm -f $(OBJECT_DIR)/*.o $(OBJECT_DIR)/*.o.d
        rm -f $(EXECUTABLE)</p>
        
<div style="float: right; width: 30%; line-height: 0.95em;">
  <dl class="expl">
    <dt>$(CC)</dt>
    <dd>Compiler: g++</dd>
    <dt>$(CCFLAGS)</dt>
    <dd>Compilerflags: -Wall -g -c -o</dd>
    <dt>$@</dt>
    <dd>Zielname</dd>
    <dt>$&lt;</dt>
    <dd>Namen der Abhängigkeiten</dd>
    <dt>$^</dt>
    <dd>Alle Quellen</dd>
    <dt>%.o: %.cpp</dt>
    <dd>generische Regel um .o Dateien aus .cpp Dateien zu erzeugen</dd>
    <dt>-MMD -MF ./$@.d</dt>
    <dd>Automatische Erkennung von Abhängigkeiten</dt>
  </dl>
</div>

<div style="float: left; padding-top: 8px;">
<img src="images/fu.jpg" width="85%" alt="" />
</div>
      </article>

      
      <article>
       <h3>Exkurs <code>Makefile</code></h3>
       Ass1 Makefile aufgel&ouml;st:
<p class="code compact" style="font-size: .55em; line-height: 1.2em;">all: ass1

objects/Tower.o: Tower.cpp
	g++ -Wall -g -c -o Tower.o Tower.cpp -MMD -MF ./Tower.o.d

[...]

objects/main.o: main.cpp
	g++ -Wall -g -c -o main.o main.cpp -MMD -MF ./main.o.d

ass1 : objects/Tower.o objects/main.o [...]
	g++ -o ass1 objects/Tower.o objects/main.o [...]
	
clean:
        rm -f objects/Tower.o objects/main.o [...] objects/Tower.o.d [...]
        rm -f ass1</p>
</p>

<pre class="compact"># ass1 erstellen
make
# ass1 und alle *.o l&ouml;schen
make clean
</pre>
      </article>
	 <article>
       <h3>Ass1</h3>
	   <ul>
	   <li>Grundlage f&uuml;r "Tower Defense"</li>
	   <li><span class="src">main.cpp</span> wird vorgegeben</li>
	   <li>3 Klassen zu schreiben: <span class="src">SpeedRatio</span>, <span class="src">Tower</span>&amp; <span class="src">Monster</span></li>
	   </ul>
     </article>

	 <article>
       <h3>Ass1 - SpeedRatio</h3>
       <table class="uml_class">
       <tr><th>SpeedRatio</th></tr>
       <tr><td class="private">
	   <ul>
	   <li>events_ : unsigned int</li>
	   <li>ticks_ : unsigned int</li>
	   </ul>
       </td></tr>
       <tr><td class="public">
           <ul>
           <li>currentEvents(unsigned int)</li>
	   </ul>
	</td></tr>
        </table>
     </article>
 <article>
       <h3>Ass1 - Tower</h3>
       <table class="uml_class">
       <tr><th>Tower</th></tr>
       <tr><td class="private">
	   <ul>
	   <li>name_: string</li>
	   <li>damage_: unsigned int</li>
	   <li>range_: unsigned int</li>
     <li>shoot_ratio_: SpeedRatio</li>
     <li>game_: Game*</li>
     </ul>
        </td></tr><tr><td class="public">
	   <ul>
	   <li>Konstruktor</li>
	   <li>fire()</li>
	   </ul>
	</td></tr>
      </table>
     </article>
	 <article>
       <h3>Ass1 - Monster</h3>
       <table class="uml_class">
       <tr><th>Monster</th></tr>
       <tr><td class="private">
	   <ul>
	   <li>name_: string</li>
     <li>speed_ratio_: SpeedRatio</li>
	   <li>damage_: unsigned int</li>
	   <li>life_: unsigned int</li>
     <li>attribute_: unsigned int</li>
     <li>game_: Game*</li>
	   </ul>
        </td></tr><tr><td class="public">
            <ul>
	   <li>Konstruktor</li>
	   <li>move()</li>
	   </ul>
	</td></tr></table>
     </article>
	 <article class="smaller">
	 <h3>Ass1 - Abgabe</h3>
	 <h4><strong>Deadline: 19.03.2014 - 19:00</strong></h4>
	 <ul>
	 <li>main.cpp</li>
<li>.cpp files</li>
<li>.h files</li>
</ul>

<span style="font-size: 0.75em; font-weight: bold;">Abgabe Archiv erstellen:</span>
<pre class="compact">make submission</pre>
	 </article>

	 
	 <article>
	   <h3>Freiwillige &Uuml;bung</h3>
	   
	   <center><img src="images/seplab.png" style="padding: 12px;" /></center>
	   
	   <a href="http://misc0110.net/lab">http://misc0110.net/lab</a>
	 </article>
   
	 <article>
	 <h1>Viel Glück für Ass1</h1>
	 <h3 style="margin-top: 30px;">Nächstes Tutorium: 1. April</h3></article>
    </section>

  </body>
</html>
